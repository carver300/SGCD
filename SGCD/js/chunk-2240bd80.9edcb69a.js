(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2240bd80"],{"1ffb":function(e,t,a){"use strict";var i=a("cd68"),o=a.n(i);o.a},"42ea":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12"},[a("card",[a("card",{staticClass:"striped-tabled-with-hover",attrs:{"body-classes":"table-full-width table-responsive"}},[a("template",{slot:"header"},[a("div",{staticClass:"row "},[a("div",{staticClass:"col-xl-8 col-lg-6"},[a("h3",{staticClass:"card-title"},[e._v("Informacion Pacientes")]),a("p",{staticClass:"card-category"},[e._v("Informacion General de los Ultimos 15 Pacientes Registrados")])]),a("div",{staticClass:"col-xl-2 col-lg-3"},[a("h6",[e._v("Buscar Paciente")]),a("base-input",{staticClass:"pt-1",attrs:{placeholder:"No.Paciente"},model:{value:e.id_paciente,callback:function(t){e.id_paciente=t},expression:"id_paciente"}})],1),a("div",{staticClass:"col-xl-1 col-lg-1 pt-3"},[a("button",{staticClass:"btn btn-fill btn-info float-right",on:{click:function(t){return e.buscarPaciente()}}},[e._v("\n                                        Buscar\n                                    ")])])]),a("hr")]),a("div",{staticClass:"table-responsive"},[a("l-table",{staticClass:"table-hover",attrs:{columns:e.tableColumns,data:e.tableData},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("td",[e._v(e._s(i.id_paciente))]),a("td",[e._v(e._s(i.nombre))]),a("td",[e._v(e._s(i.apepaterno))]),a("td",[e._v(e._s(i.apematerno))]),a("td",[e._v(e._s(i.sexo))]),a("td",[e._v(e._s(i.edad))]),a("td",[e._v(e._s(i.alergia))]),a("td",[e._v(e._s(i.calle))]),a("td",[e._v(e._s(i.colonia))]),a("td",[e._v(e._s(i.codigopostal))]),a("td",[e._v(e._s(i.telefono))]),a("td",[e._v(e._s(i.correo))]),a("td",[a("button",{staticClass:"btn btn-icon btn-info",on:{click:function(t){return e.cargarDatosModal(i)}}},[a("i",{staticClass:"fa fa-edit"})]),a("button",{staticClass:"btn btn-icon btn-danger",on:{click:function(t){return e.eliminarPaciente(i)}}},[a("i",{staticClass:"fa fa-trash"})])])]}}])},[a("template",{slot:"columns"})],2)],1)],2)],1)],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-2"},[e.showModal?a("div",[a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-xl-12"},[a("h3",[e._v("Editar Informacion")])])])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3"},[a("base-input",{attrs:{type:"text",label:"Nombre",placeholder:"Nombre del paciente"},model:{value:e.objetoPaciente.nombre,callback:function(t){e.$set(e.objetoPaciente,"nombre",t)},expression:"objetoPaciente.nombre"}})],1),a("div",{staticClass:"col-xl-3"},[a("base-input",{attrs:{type:"text",label:"Apellido Paterno",placeholder:"Primer apellido"},model:{value:e.objetoPaciente.apepaterno,callback:function(t){e.$set(e.objetoPaciente,"apepaterno",t)},expression:"objetoPaciente.apepaterno"}})],1),a("div",{staticClass:"col-xl-3"},[a("base-input",{attrs:{type:"text",label:"Apellido Materno",placeholder:"Segundo apellido"},model:{value:e.objetoPaciente.apematerno,callback:function(t){e.$set(e.objetoPaciente,"apematerno",t)},expression:"objetoPaciente.apematerno"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3"},[a("base-input",{attrs:{type:"text",label:"Sexo",placeholder:"Sexo"},model:{value:e.objetoPaciente.sexo,callback:function(t){e.$set(e.objetoPaciente,"sexo",t)},expression:"objetoPaciente.sexo"}})],1),a("div",{staticClass:"col-xl-3"},[a("base-input",{attrs:{type:"text",label:"Edad"},model:{value:e.objetoPaciente.edad,callback:function(t){e.$set(e.objetoPaciente,"edad",t)},expression:"objetoPaciente.edad"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Alergias")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.objetoPaciente.alergia,expression:"objetoPaciente.alergia"}],staticClass:"form-control border-input",attrs:{rows:"3",placeholder:"Alergia a medicamentos"},domProps:{value:e.objetoPaciente.alergia},on:{input:function(t){t.target.composing||e.$set(e.objetoPaciente,"alergia",t.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3"},[a("base-input",{attrs:{type:"text",label:"Calle"},model:{value:e.objetoPaciente.calle,callback:function(t){e.$set(e.objetoPaciente,"calle",t)},expression:"objetoPaciente.calle"}})],1),a("div",{staticClass:"col-xl-3"},[a("base-input",{attrs:{type:"text",label:"Colonia"},model:{value:e.objetoPaciente.colonia,callback:function(t){e.$set(e.objetoPaciente,"colonia",t)},expression:"objetoPaciente.colonia"}})],1),a("div",{staticClass:"col-xl-3"},[a("base-input",{attrs:{type:"number",label:"Codigo Postal"},model:{value:e.objetoPaciente.codigopostal,callback:function(t){e.$set(e.objetoPaciente,"codigopostal",t)},expression:"objetoPaciente.codigopostal"}})],1)])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"submit"},on:{click:function(t){e.showModal=!1}}},[e._v(" \n                                                Cerrar\n                                            ")]),a("button",{staticClass:"btn btn-success btn-fill float-right",attrs:{type:"submit"},on:{click:function(t){return e.editarInformacion()}}},[e._v("\n                                                Editar\n                                            ")])])])])])])])],1):e._e()])])])])},o=[],n=a("0748"),s=a("1499"),c=a("bc3a"),l={name:"InformacionPacientes",components:{LTable:n["a"],Card:s["a"]},data:function(){return{tableColumns:["Id","Nombre","Apellido Paterno","Apellido Materno","Sexo","Edad","Alergia","Calle","Colonia","Codigo Postal","Telefono","Correo Electronico","Acciones"],tableData:[],showModal:!1,objetoPaciente:{id_paciente:"",nombre:"",apepaterno:"",apematerno:"",sexo:"",edad:"",calle:"",colonia:"",codigopostal:"",telefono:"",correo:"",alergia:""},objetoPacienteNuevo:{id_paciente:"",nombre:"",apepaterno:"",apematerno:"",sexo:"",edad:"",calle:"",colonia:"",codigopostal:"",telefono:"",correo:"",alergia:""},index:"",id_paciente:""}},mounted:function(){this.llenarTablaPacientes()},methods:{llenarTablaPacientes:function(){var e=this;c.get("http://178.128.13.15:8001/api/paciente/VerPacientes").then(function(t){e.tableData=t.data}).catch(function(t){e.notifyVue("top","center","Hubo un error al obtener la informacion, favor de reportarlo con el administrador","danger")})},cargarDatosModal:function(e){this.index=this.tableData.indexOf(e),this.objetoPaciente=Object.assign({},e),this.showModal=!0},editarInformacion:function(){var e=this;c.post("http://178.128.13.15:8001/api/paciente/ActualizarPaciente",this.objetoPaciente).then(function(t){e.notifyVue("top","center","Se edito la informacion del paciente","success"),e.actualizarRowTable(),e.showModal=!1}).catch(function(t){e.notifyVue("top","center","Se detecto un error con la informacion proporcionada, favor de validar","danger")})},actualizarRowTable:function(){this.index>-1?Object.assign(this.tableData[this.index],this.objetoPaciente):this.tableData.push(this.objetoPaciente)},notifyVue:function(e,t,a,i){this.$notifications.notify({message:a,icon:"nc-icon nc-app",horizontalAlign:t,verticalAlign:e,type:i})},eliminarPaciente:function(e){var t=this;this.index=this.tableData.indexOf(e),this.objetoPaciente=Object.assign({},e),c.get("http://178.128.13.15:8001/api/paciente/EliminarPaciente/"+this.objetoPaciente.id_paciente).then(function(e){t.tableData.splice(t.index,1)}).catch(function(e){alert(e+" "+t.objetoPaciente.id_paciente)})},buscarPaciente:function(){var e=this;""!=this.id_paciente||this.id_paciente>0?c.get("http://178.128.13.15:8001/api/paciente/PacientePorId/"+this.id_paciente).then(function(t){-1!=t.data?(e.tableData=[],e.objetoPaciente=t.data,e.tableData.push(e.objetoPaciente)):(e.tableData=[],e.notifyVue("top","center","No existe el paciente proporcionado","warning"))}).catch(function(t){e.notifyVue("top","center","Hubo un error al obtener la informacion, favor de reportarlo con el administrador","danger")}):this.notifyVue("top","center","No haz proporcionado un numero de paciente valido","warning")}}},r=l,d=(a("6f93"),a("2877")),p=Object(d["a"])(r,i,o,!1,null,null,null);t["default"]=p.exports},"6f93":function(e,t,a){"use strict";var i=a("f6dd"),o=a.n(i);o.a},cce0:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-8"},[a("card",[a("template",{slot:"header"},[a("h3",{staticClass:"card-title"},[e._v("Agendar Cita")]),a("p",{staticClass:"card-category"},[e._v("Captura el numero de paciente para continuar")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-2"},[a("base-input",{attrs:{type:"text",label:"Paciente"},model:{value:e.id_paciente,callback:function(t){e.id_paciente=t},expression:"id_paciente"}})],1),a("div",{staticClass:"col-xl-3 pt-4"},[a("button",{staticClass:"btn btn-info btn-fill",attrs:{type:"submit"},on:{click:function(t){return e.buscarInformacionPaciente()}}},[e._v("Buscar")])])]),""!=e.Paciente.id_paciente?a("hr"):e._e(),""!=e.Paciente.id_paciente?a("h4",[e._v("Informacion Paciente")]):e._e(),""!=e.Paciente.id_paciente?a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3"},[a("base-input",{attrs:{type:"text",disabled:!0,label:"Nombre"},model:{value:e.Paciente.nombre,callback:function(t){e.$set(e.Paciente,"nombre",t)},expression:"Paciente.nombre"}})],1),a("div",{staticClass:"col-xl-3"},[a("base-input",{attrs:{type:"text",disabled:!0,label:"Apellido Paterno"},model:{value:e.Paciente.apematerno,callback:function(t){e.$set(e.Paciente,"apematerno",t)},expression:"Paciente.apematerno"}})],1),a("div",{staticClass:"col-xl-3"},[a("base-input",{attrs:{type:"text",disabled:!0,label:"Apellido Materno"},model:{value:e.Paciente.apematerno,callback:function(t){e.$set(e.Paciente,"apematerno",t)},expression:"Paciente.apematerno"}})],1)]):e._e(),""!=e.Paciente.id_paciente?a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3"},[a("base-input",{attrs:{type:"text",disabled:!0,label:"Sexo"},model:{value:e.Paciente.sexo,callback:function(t){e.$set(e.Paciente,"sexo",t)},expression:"Paciente.sexo"}})],1),a("div",{staticClass:"col-xl-2"},[a("base-input",{attrs:{type:"number",disabled:!0,label:"Edad"},model:{value:e.Paciente.edad,callback:function(t){e.$set(e.Paciente,"edad",t)},expression:"Paciente.edad"}})],1)]):e._e(),""!=e.Paciente.id_paciente?a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Alergias")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.Paciente.alergia,expression:"Paciente.alergia"}],staticClass:"form-control border-input",attrs:{rows:"3",placeholder:"Alergia a medicamentos",disabled:!0},domProps:{value:e.Paciente.alergia},on:{input:function(t){t.target.composing||e.$set(e.Paciente,"alergia",t.target.value)}}})])])]):e._e(),""!=e.Paciente.id_paciente?a("hr"):e._e(),""!=e.Paciente.id_paciente?a("h3",[e._v("Detalles de la cita")]):e._e(),""!=e.Paciente.id_paciente?a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleFormControlSelect1"}},[e._v("Servicio")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.serv,expression:"serv"}],staticClass:"form-control",attrs:{id:"exampleFormControlSelect1"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.serv=t.target.multiple?a:a[0]}}},e._l(e.servicios,function(t,i){return a("option",{key:t.id_servicio,domProps:{value:i}},[e._v(e._s(t.nombre))])}),0)])]),a("div",{staticClass:"col-xl-3"},[a("base-input",{attrs:{label:"Descripcion servicio"},model:{value:e.servicios[e.serv].descripcion,callback:function(t){e.$set(e.servicios[e.serv],"descripcion",t)},expression:"servicios[serv].descripcion"}})],1),a("div",{staticClass:"col-xl-3"},[a("base-input",{attrs:{label:"Precio"},model:{value:e.servicios[e.serv].precio,callback:function(t){e.$set(e.servicios[e.serv],"precio",t)},expression:"servicios[serv].precio"}})],1)]):e._e(),""!=e.Paciente.id_paciente?a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3"},[a("base-input",{attrs:{label:"Fecha",placeholder:"YYYY-MM-DD"},model:{value:e.objetoCita.fecha,callback:function(t){e.$set(e.objetoCita,"fecha",t)},expression:"objetoCita.fecha"}})],1),a("div",{staticClass:"col-xl-3"},[a("label",{attrs:{for:"exampleFormControlSelect1"}},[e._v("Hora")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.hor,expression:"hor"}],staticClass:"form-control",attrs:{id:"exampleFormControlSelect1"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.hor=t.target.multiple?a:a[0]}}},e._l(e.horasservicio,function(t,i){return a("option",{key:t.hora,domProps:{value:i}},[e._v(e._s(t.hora))])}),0)]),a("div",{staticClass:"col-xl-2 pt-4"},[a("button",{staticClass:"btn btn-fill btn-success",attrs:{type:"submit"},on:{click:function(t){return e.agendarCita()}}},[e._v("Agendar")])])]):e._e()],2)],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-1"},[e.showModal?a("div",[a("transition",{attrs:{name:"modal fade"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-dialog modal-sm",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-xl-12"},[a("h3",[e._v("Folio Cita Generado")])])])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row justify-content-center text-center"},[a("div",{staticClass:"col-xl-12"},[a("h4",[e._v(e._s(e.Cita.folio))])])])]),a("div",{staticClass:"modal-footer"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12"},[a("button",{staticClass:"btn btn-fill btn-info",on:{click:function(t){e.showModal=!1}}},[e._v("Cerrar")])])])])])])])])])],1):e._e()])])])])},o=[],n=a("bc3a"),s={data:function(){return{Paciente:{id_paciente:"",nombre:"",apepaterno:"",apematerno:"",sexo:"",edad:"",alergia:""},Cita:{folio:""},servicios:[],horasservicio:[{hora:"8:00"},{hora:"9:00"},{hora:"10:00"},{hora:"11:00"},{hora:"12:00"},{hora:"13:00"},{hora:"14:00"},{hora:"15:00"},{hora:"16:00"},{hora:"17:00"}],objetoServicio:{id_servicio:"",nombre:"",descripcion:"",precio:""},showModal:!1,serv:1,hor:1,opcion:"",id_paciente:"",folioCita:"",objetoCita:{id_paciente:"",id_servicio:"",fecha:"",hora:"",observaciones:""},objetoPaciente:{id_paciente:"",nombre:"",apepaterno:"",apematerno:"",sexo:"",edad:"",calle:"",colonia:"",codigopostal:"",telefono:"",correo:"",alergia:""}}},methods:{buscarInformacionPaciente:function(){var e=this;this.id_paciente>0?n.get("http://178.128.13.15:8001/api/Paciente/PacientePorId/"+this.id_paciente).then(function(t){t.data.id_paciente>0?(e.Paciente=t.data,e.cargarServicios()):e.notifyVue("top","center","No hay informacion para ese paciente","danger")}).catch(function(t){e.notifyVue("top","center","Hubo un error al obtener la informacion, favor de reportarlo con el administrador","danger")}):this.notifyVue("top","center","No haz capturado un numero de paciente valido","warning")},notifyVue:function(e,t,a,i){this.$notifications.notify({message:a,icon:"nc-icon nc-app",horizontalAlign:t,verticalAlign:e,type:i})},cargarServicios:function(){var e=this;n.get("http://178.128.13.15:8001/api/servicio/VerServicios").then(function(t){e.servicios=t.data}).catch(function(t){e.notifyVue("top","center","Hubo un error al obtener la informacion, favor de reportarlo con el administrador","danger")})},abrirModalCobrar:function(){this.showModal=!0},agendarCita:function(){var e=this;this.llenarObjetoCita(),n.post("http://178.128.13.15:8001/api/Cita/InsertarCita",this.objetoCita).then(function(t){2==t.data?e.notifyVue("top","center","El paciente ya cuenta con una cita registrada para ese dia","warning"):(e.showModal=!0,e.Cita.folio=t.data)}).catch(function(t){e.notifyVue("top","center","Error","danger")})},llenarObjetoCita:function(){this.objetoCita.id_paciente=this.Paciente.id_paciente,this.objetoCita.id_servicio=this.servicios[this.serv].id_servicio,this.objetoCita.hora=this.horasservicio[this.hor].hora},limpiarDatos:function(){this.objetoPaciente.id_paciente="",this.objetoPaciente.nombre="",this.objetoPaciente.apepaterno="",this.objetoPaciente.apematerno="",this.objetoPaciente.sexo="",this.objetoPaciente.edad="",this.objetoPaciente.calle="",this.objetoPaciente.colonia="",this.objetoPaciente.codigopostal="",this.objetoPaciente.telefono="",this.objetoPaciente.correo="",this.objetoPaciente.alergia=""}}},c=s,l=(a("1ffb"),a("2877")),r=Object(l["a"])(c,i,o,!1,null,null,null);t["default"]=r.exports},cd68:function(e,t,a){},f6dd:function(e,t,a){}}]);
//# sourceMappingURL=chunk-2240bd80.9edcb69a.js.map